# 🚀 自部署配置指南

## 快速开始

### 1. 创建 Supabase 项目

1. 访问 [supabase.com](https://supabase.com)
2. 注册/登录账号
3. 点击 "New Project" 创建新项目
4. 记录项目信息（下一步需要用到）

### 2. 获取项目配置信息

在 Supabase Dashboard 中：
1. 进入 **Settings** → **API**
2. 复制以下信息：
   - **Project URL** (格式: `https://xxx.supabase.co`)
   - **anon public** key (长字符串)

### 3. 更新项目配置

编辑文件 `/utils/supabase/client-config.ts`：

```typescript
// 替换为您的实际信息
export const SUPABASE_URL = 'https://your-project-id.supabase.co';
export const SUPABASE_ANON_KEY = 'your-anon-key-here';
```

### 4. 初始化数据库

在 Supabase Dashboard 中：
1. 进入 **SQL Editor**
2. 运行项目根目录下的 `database-setup.sql` 脚本

### 5. 部署应用

#### 选项 A: Vercel (推荐)
```bash
npm install -g vercel
vercel --prod
```

#### 选项 B: Netlify
1. 连接 GitHub 仓库到 Netlify
2. 设置构建命令: `npm run build`
3. 设置发布目录: `.next`

#### 选项 C: 自托管
```bash
npm install
npm run build
npm start
```

## 🔧 故障排除

### 常见错误解决方案

**❌ "process is not defined"**
- 确保使用了 `client-config.ts` 而不是带有 `process.env` 的配置

**❌ "Failed to fetch"**
- 检查 Supabase URL 是否正确
- 确认数据库表已创建

**❌ "Invalid API key"**
- 验证 Anon Key 是否正确复制
- 确认项目 ID 与 URL 匹配

### 验证配置

运行以下代码检查配置是否正确：

```javascript
// 在浏览器控制台运行
console.log('Project ID:', projectId);
console.log('API URL:', `https://${projectId}.supabase.co`);
```

## 📝 配置检查清单

- [ ] Supabase 项目已创建
- [ ] 已获取 Project URL 和 Anon Key
- [ ] 已更新 `client-config.ts` 文件
- [ ] 已运行 `database-setup.sql` 脚本
- [ ] 应用可以正常构建 (`npm run build`)
- [ ] 部署到您选择的平台

---

🎉 **配置完成后，您的课堂荣誉墙系统就可以正常使用了！**

如果遇到问题，请检查浏览器控制台的错误信息，并根据错误提示进行调试。