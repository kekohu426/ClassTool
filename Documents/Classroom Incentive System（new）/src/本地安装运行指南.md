# 📥 课堂荣誉墙 - 本地安装运行指南

## 🎯 系统要求
- **Node.js**: 18.0 或更高版本
- **npm**: 8.0 或更高版本
- **操作系统**: Windows 10+, macOS 10.15+, Ubuntu 18.04+

## 📦 快速安装步骤

### 1. 下载项目代码
```bash
# 如果是从GitHub下载
git clone [项目地址]
cd classroom-honor-system

# 或者解压下载的ZIP文件后进入项目目录
```

### 2. 彻底清理环境（重要！）
```bash
# 删除可能存在的依赖和缓存
rm -rf node_modules
rm -f package-lock.json
rm -f yarn.lock
rm -f pnpm-lock.yaml
rm -rf .next

# 清理npm缓存
npm cache clean --force
```

### 3. 安装项目依赖
```bash
npm install
```

### 4. 启动开发服务器
```bash
npm run dev
```

### 5. 访问应用
打开浏览器访问: **http://localhost:3000**

## 🚀 验证安装成功

启动成功后，您应该看到：
- ✅ 课堂荣誉墙主页面
- ✅ "添加学生"按钮
- ✅ 空的学生网格（首次使用）
- ✅ 右侧排行榜区域

## 🔧 常见问题解决

### 问题1: 端口被占用
```bash
# 解决方案：使用其他端口
npm run dev -- -p 3001
# 然后访问 http://localhost:3001
```

### 问题2: 依赖安装失败
```bash
# 解决方案：使用淘宝镜像
npm install --registry https://registry.npmmirror.com
```

### 问题3: Node.js版本过低
```bash
# 检查版本
node --version
npm --version

# 如果版本过低，请更新Node.js
# 下载地址：https://nodejs.org/
```

### 问题4: 权限错误（macOS/Linux）
```bash
# 使用sudo（谨慎使用）
sudo npm install

# 或者修复npm权限
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
source ~/.bashrc
```

## 📱 功能测试清单

安装完成后，请测试以下功能：

### ✅ 基础功能
- [ ] 添加学生
- [ ] 学生分组
- [ ] 积分加分（1, 3, 5, 10分）
- [ ] 作业提交记录
- [ ] 音效播放

### ✅ 高级功能
- [ ] 实时排行榜
- [ ] 小组排行榜
- [ ] 数据导入/导出
- [ ] 数据重置
- [ ] 响应式布局

## 🎵 音效测试

系统包含以下音效：
- 🔊 +1分音效
- 🔊 +3分音效  
- 🔊 +5分音效
- 🔊 +10分音效
- 🔊 等级提升音效
- 🔊 作业提交音效

**注意**: 音效需要用户交互后才能播放（浏览器安全策略）

## 📊 数据存储说明

### 本地开发模式
- 数据存储在 Supabase 云数据库
- 项目ID: `doqhdrckqluuieeonlfl`
- 数据实时同步，多设备共享

### 离线使用
如需离线使用，请参考 `自部署配置指南.md`

## 🏗️ 项目构建

### 开发环境
```bash
npm run dev        # 启动开发服务器
npm run build      # 构建生产版本
npm run start      # 启动生产服务器
npm run lint       # 代码检查
```

### 生产部署
```bash
npm run build
npm run start
```

## 📁 项目结构说明

```
classroom-honor-system/
├── App.tsx                 # 主应用组件
├── components/             # 组件目录
│   ├── student-card.tsx    # 学生卡片
│   ├── leaderboard.tsx     # 排行榜
│   ├── sound-manager.tsx   # 音效管理
│   └── ui/                 # UI组件库
├── pages/                  # Next.js页面
├── styles/                 # 样式文件
├── supabase/              # 后端函数
└── utils/                 # 工具函数
```

## 🎨 自定义配置

### 修改班级规模
在 `App.tsx` 中调整网格布局：
```typescript
// 修改这一行来调整每行显示的学生数量
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
```

### 修改积分等级
在 `getPointsLevel` 函数中调整等级划分：
```typescript
const getPointsLevel = (points: number): string => {
  if (points >= 100) return '传奇';
  if (points >= 61) return '优秀';
  if (points >= 31) return '良好';
  if (points >= 11) return '合格';
  return '新手';
};
```

## 📞 技术支持

如果遇到问题，请检查：
1. Node.js和npm版本是否符合要求
2. 网络连接是否正常
3. 防火墙是否阻止了3000端口
4. 浏览器控制台是否有错误信息

---

## 🎉 安装完成！

现在您可以开始使用课堂荣誉墙了！

### 📚 快速开始：
1. 点击"添加学生"添加第一个学生
2. 设置学生姓名和分组
3. 点击学生卡片进行积分操作
4. 观察右侧实时排行榜变化
5. 体验音效反馈效果

**祝您使用愉快！** 🚀